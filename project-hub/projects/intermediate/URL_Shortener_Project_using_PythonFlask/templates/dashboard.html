{% extends "base.html" %}

{% block content %}
<div class="dashboard-header">
    <h2>Your Short Links</h2>
    <form method="POST" action="{{ url_for('shorten_url') }}" class="shorten-form">
        <input type="url" name="url" placeholder="Enter your long URL here" required>
        <button type="submit" class="btn btn-primary">Shorten</button>
    </form>
</div>

{% if urls %}
<div class="urls-list">
    {% for url in urls %}
    <div class="url-card">
        <div class="url-info">
            <div class="original-url">{{ url.original_url }}</div>
            <div class="short-url">
                <a href="{{ url_for('redirect_to_url', short_code=url.short_code, _external=True) }}">
                    {{ request.host_url }}{{ url.short_code }}
                </a>
            </div>
            <div class="url-stats">
                <span>Clicks: {{ url.clicks }}</span>
                <span>Created: {{ url.created_at.strftime('%Y-%m-%d') }}</span>
            </div>
        </div>
        <div class="url-actions">
            <a href="{{ url_for('delete_url', url_id=url.id) }}" 
               class="btn btn-danger" 
               onclick="return confirm('Are you sure you want to delete this URL?')">
                Delete
            </a>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<div class="empty-state">
    <p>You haven't created any short links yet. Enter a URL above to get started!</p>
</div>
{% endif %}
{% endblock %}